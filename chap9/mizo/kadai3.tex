\chapter{低級言語での理論的計算量に関する実験}\label{chap:時間計測}
\section{実験の目的}
今回の実験の目的は，アセンブリ言語・機械語で直接記述した場合も実行時間は論理的計算量（アルゴリズムによって\(O(n^2)\)や\(O(n\log n)\)など）に従うことを示すことである．選択ソートのアルゴリズムの計算量は\(O(n^2)\)である\cite[p.50,51]{アルゴリズムとデータ構造}ので，アセンブリ言語で記述した選択ソートアルゴリズムもそれに従うか検証する．
\section{実験方法}\label{sec:時間計測}
実験環境は，\ref{usingPC}に示した通り．アセンブリ言語での実行時間の検証は，Linux標準の{\ttfamily time}コマンドを用いて計測する．\ref{command1}のコマンドを実行し，実行ファイル{\ttfamily a.out}を生成した後，\ref{src:command3}を実行し実行時間を計測する．
各実行時間の中でも{\ttfamily real}が引数コマンドを実行するのにかかった時間である．実験回数は1つのテストにつき3回行い実行時間を平均する．
\begin{lstlisting}[language={Bash},caption={実行コマンド},label={src:command3},frame={single},numbers={none}]
$ time ./a.out
-- 実行結果（略）--
real    0m0.002s
user    0m0.001s
sys     0m0.000s
\end{lstlisting}
テストするデータの個数を以下のように定め，\ref{src:sort.s}の{\ttfamily section .data}部分を\ref{src:データの個数指定}のように変更する．
さらに，選択ソートは最良時間計算量と最悪時間計算量が等しく\cite[p.50]{アルゴリズムとデータ構造}，整列対象のデータ列は計測時間に依存しない故，今回はデータ列を全て{\ttfamily 0}に定める．
実験結果をExcelを使って多項式近似（2次）を求め，その関数曲線と実験結果を比較する．テストデータ数は\eqref{equ:テストデータ}の集合\(T\)である．
\begin{align}
    T_1 & =\{10^n\mid n\in\mathbb{N}, n\leq 5\} \notag \\
    T_2 & =\{n\times 10^4\mid 2\leq n\leq 9\}  \notag  \\
    T   & =T_1\cup T_2\label{equ:テストデータ}
\end{align}
\begin{lstlisting}[caption={データの個数指定}, label={src:データの個数指定},frame={single},numbers={none}]
    section .data
data: times データ個数 dd 0
ndata: equ ($ - data) / 4
\end{lstlisting}
\section{実験結果}
実験結果を\ref{tbl:データの個数と実行時間の出力}，\ref{fig:データの個数と実行時間の曲線グラフ}に示す．実行時間は有効数字4桁で表現している．\\
\dotfill\\
\begin{minipage}[t]{0.35\textwidth}
    \begin{center}
        \tblcaption{データの個数と実行時間の出力}
        \label{tbl:データの個数と実行時間の出力}
        \begin{tabular}{ll}
            \multicolumn{1}{c}{データ個数（個）} & \multicolumn{1}{c}{実行時間（秒）} \\
            \hline
            1                            & 0.0010                      \\
            10                           & 0.0010                      \\
            100                          & 0.0020                      \\
            1,000                        & 0.0073                      \\
            10,000                       & 0.1873                      \\
            20,000                       & 0.6077                      \\
            30,000                       & 1.2164                      \\
            40,000                       & 2.0527                      \\
            50,000                       & 2.7173                      \\
            60,000                       & 3.7017                      \\
            70,000                       & 4.8357                      \\
            80,000                       & 5.9860                      \\
            90,000                       & 7.3787                      \\
            100,000                      & 8.8790                      \\
            \hline
        \end{tabular}
    \end{center}
\end{minipage}
\begin{minipage}[t]{0.6\textwidth}
    \centering
    \figcaption{データの個数と実行時間の曲線グラフ}
    \label{fig:データの個数と実行時間の曲線グラフ}
    \begin{tikzpicture}[scale=0.9]
        \datavisualization[ % コマンドで描画情報を記述
            scientific axes, % 軸設定
            visualize as line/.list={mydata}, % 曲線で結ぶ
            mydata={style={thick,mark=*},smooth line,label in legend={text=実験結果}},
            legend={north west inside},
            x axis={label={データ個数（個）},length=10cm},
            y axis={label={秒数（秒）},ticks={step=0.5},length=7cm},
        ]
        data[set=mydata,headline={x, y}, read from file=exdata.csv];
        info{
                % \draw[domain=0:100000] plot(\x, {7 * pow(10,-10) * (\x)^2 + 2 * pow(10,-5) * (\x) - 0.0236});
            }
    \end{tikzpicture}
    \begin{align}
        \intertext{実行時間を\(t\)，データの個数を\(n\)とすると，近似多項式は以下．}
        t= 7\cdot 10^{-10}n^2+2\cdot 10^{-5}n-0.00236\label{equ:近似多項式}
    \end{align}
\end{minipage}
\section{考察}
オーダ記法は，アルゴリズムの時間計算量の入力サイズ\(n\)を用いた関数\(f(n)\)に対して，その関数の主要項の係数を削除した\(O(f(n))\)である．\cite[p.7]{アルゴリズムとデータ構造}\par
従って，\eqref{equ:近似多項式}を元にオーダ記法の定義より，このアルゴリズムの計算量は\(O(n^2)\)であることが分かる．